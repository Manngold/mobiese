(()=>{var t={773:t=>{const e={curry:t=>(e,...n)=>n.length?t(e,...n):(...n)=>t(e,...n)};e.map=e.curry(((t,e)=>{const n=[];for(const r of e)r instanceof Promise?n.push(r.then(t(r))):n.push(t(r));return n})),e.filter=e.curry(((t,e)=>{const n=[];for(const r of e)t(r)&&n.push(r);return n})),e.switch=t=>e=>t,e.take=e.curry(((t,e)=>{const n=[];if(t===n.length)return n;for(const r of e)if(n.push(r),t===n.length)break;return n})),e.takeAll=t=>e.go(t,e.take(1/0)),e.reduce=e.curry(((t,e,n)=>{n||(n=e[Symbol.iterator](),e=n.next().value);for(const r of n)e=t(e,r);return e})),e.go=(...t)=>e.reduce(((t,e)=>e(t)),t),t.exports=e},780:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(645),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,"html,\nbody {\n\tbackground-color: #000000;\n\tmargin: 0;\n}\n\n#app {\n\theight: 100vh;\n\twidth: 100%;\n}\n\n.movie-list {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n}\n\n.card__wrapper {\n\ttransition: 0.5s;\n\tmargin: 1rem;\n}\n.card__wrapper:hover {\n\ttransform: scale(1.1);\n\tcursor: pointer;\n}\n\n.img__wrapper {\n\tposition: relative;\n}\n.movie__img {\n\tborder-radius: 10px;\n\twidth: 250px;\n\theight: 375px;\n}\n\n.movie__title {\n\tdisplay: block;\n\tfont-size: 1.3rem;\n\tfont-weight: 600;\n}\n.movie__info {\n\twidth: 100%;\n\tcolor: #eeeeee;\n\tposition: absolute;\n\tleft: 0.5rem;\n}\n\n.movie__release-date {\n\tcolor: #bbbbbb;\n}\n\n.movie__score {\n\tposition: absolute;\n\tright: 0;\n\tbottom: 0;\n}\n\n.popup-background {\n\tposition: absolute;\n\ttop: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: rgb(0, 0, 0, 0.7);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.popup-body {\n\twidth: 90vw;\n\theight: 80vh;\n\tdisplay: flex;\n}\n\n.info {\n\tcolor: #eeeeee;\n\tposition: relative;\n\tmargin-left: 2rem;\n}\n\n.close-btn {\n\tposition: absolute;\n\tright: 1rem;\n\tbottom: 1rem;\n\tborder: none;\n\twidth: 100px;\n\theight: 30px;\n\tbackground-color: #ff2626;\n\tcolor: #eeeeee;\n\tborder-radius: 5px;\n\ttransition: 0.3s;\n}\n\n.close-btn:hover {\n\ttransform: scale(1.1);\n}\n",""]);const a=o},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},i=[],s=0;s<t.length;s++){var c=t[s],d=r.base?c[0]+r.base:c[0],l=a[d]||0,p="".concat(d," ").concat(l);a[d]=l+1;var u=n(p),h={css:c[1],media:c[2],sourceMap:c[3]};-1!==u?(e[u].references++,e[u].updater(h)):e.push({identifier:p,updater:o(h,r),references:1}),i.push(p)}return i}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var s=n(a[i]);e[s].references--}for(var c=r(t,o),d=0;d<a.length;d++){var l=n(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r=n.css,o=n.media,a=n.sourceMap;o?t.setAttribute("media",o):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(773),e=n.n(t);const r={addNumber:(t,e)=>t+e,addString:(t,e)=>`${t}${e}`,sumQuery:(t,e)=>`${t}&${e}`,setKeyValue:([t,e])=>{if(void 0!==e)return`${t}=${e}`}},o={queryGenerator:t=>e().go(Object.entries(t),e().map(r.setKeyValue),e().reduce(r.sumQuery)),urlGenerator:(t,...n)=>{if(!t||!t.length)throw new Error("baseUrl is undefined");const o=[t,...n];return e().go(o,e().reduce(r.addString))},fetchData:t=>fetch(t).then((t=>t.json())),takeRes:t=>t instanceof Promise?t.then((t=>t.results)):t},a={qs:t=>document.querySelector(t),qsa:t=>document.querySelectorAll(t),getChildren:t=>t.children};a.appendChild=e().curry(((t,e)=>t.appendChild(e))),a.appendChildAll=e().curry(((t,e)=>{for(const n of e)t.appendChild(n);return t})),a.genEl=t=>{const e=document.createElement("div");return e.innerHTML=t,e.children[0]},a.cre=t=>document.createElement(t),a.addClass=e().curry(((t,e)=>(e.classList.add(t),e))),a.innerHTML=e().curry(((t,e)=>e.innerHTML=t)),a.addInnerHTML=e().curry(((t,e)=>(e.innerHTML+=t,e))),a.removeChild=t=>t.parentNode.removeChild(t),a.addEvent=e().curry(((t,e)=>n=>n.addEventListener(e,t))),a.addStyle=(t,e)=>n=>(n.style[t]=e,n);const i=a,s={},c="https://image.tmdb.org/t/p/w500",d={api_key:"c8d7c73d573d01c32347691c8f0c99bc",region:"kr"},l=e().map((t=>(t.poster_path?t.poster_path=`${c}${t.poster_path}`:t.poster_path="https://raw.githubusercontent.com/Manngold/mannflix/master/src/assets/noPoster.png",t))),p=t=>t instanceof Promise?t.then(l):l,u=t=>"card__wrapper"===t.className,h=t=>t.dataset.id;s.fetchMovieList=async t=>e().go(o.fetchData(t),o.takeRes,p),s.addPopup=async({path:t})=>{const[n]=e().go(t,e().filter(u),e().map(h),e().take(1));if(!n)return;const r=o.queryGenerator(d),a=o.urlGenerator("https://api.themoviedb.org/3",`/movie/${n}?`,r),c=await o.fetchData(a),l=s.popUpTmpl(c);e().go(l,i.genEl,i.appendChild(i.qs("body")),i.addStyle("left",`${window.scrollX}px`),e().switch(i.qs("body")),i.addStyle("overflow","hidden")),e().go(i.qs(".close-btn"),i.addEvent(s.removePopup,"click"))},s.removePopup=()=>e().go(i.qs(".popup-background"),i.removeChild,e().switch(i.qs("body")),i.addStyle("overflow","visible")),s.popUpTmpl=t=>`\n\t<div class="popup-background">\n\t\t<div class="popup-body">\n\t\t\t<img class="popup-img" src="${c}${t.poster_path}"/>\n\t\t\t<div class="info">\n\t\t\t\t<h1>${t.title}</h1>\n\t\t\t\t<span>${t.release_date}</span>\n\t\t\t\t<span>${t.runtime} Min</span>\n\t\t\t\t<span>üçø ${t.vote_average}</span>\n\t\t\t\t<p>${t.overview}</p>\n\t\t\t\t<button class="close-btn">Close</button>\n\t\t\t</div>\n\t\t<div>\n\t</div>\n`,s.tmpl=t=>`\n\t<div class="movie-list">\n\t\t${e().go(t,e().map((t=>`\n\t\t\t<div class="card__wrapper" data-id="${t.id}">\n\t\t\t\t<div class="img__wrapper">\n\t\t\t\t\t<img class="movie__img" src="${t.poster_path}"/>\n\t\t\t\t\t<div class="movie__info">\n\t\t\t\t\t\t<span class="movie__title">${t.title}</span>\n\t\t\t\t\t\t<span class="movie__release">${t.release_date}</span>\n\t\t\t\t\t\t<span class="movie__score">üçø ${t.vote_average}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`)),e().reduce(r.addString))}\n\t</div>\n`;const f=s;var m=n(379),v=n.n(m),g=n(795),b=n.n(g),y=n(569),_=n.n(y),w=n(565),x=n.n(w),$=n(216),C=n.n($),k=n(589),E=n.n(k),M=n(780),S={};S.styleTagTransform=E(),S.setAttributes=x(),S.insert=_().bind(null,"head"),S.domAPI=b(),S.insertStyleElement=C(),v()(M.Z,S),M.Z&&M.Z.locals&&M.Z.locals;const q={api_key:"c8d7c73d573d01c32347691c8f0c99bc",page:1,region:"kr"},L="https://api.themoviedb.org/3";window.addEventListener("load",(async()=>{const t=o.queryGenerator(q),n=o.urlGenerator(L,"/movie/popular?",t),r=await f.fetchMovieList(n);e().go(r,f.tmpl,i.genEl,i.appendChild(i.qs("#app")),i.addEvent(f.addPopup,"click"))})),window.addEventListener("scroll",(async()=>{const{scrollLeft:t,clientWidth:n,scrollWidth:r}=document.documentElement;if(t+n>r-10){q.page+=1;const t=o.queryGenerator(q),n=o.urlGenerator(L,"/movie/popular?",t),r=await f.fetchMovieList(n);if(!r.length)return;e().go(r,f.tmpl,i.genEl,i.getChildren,i.appendChildAll(i.qs(".movie-list")))}}))})()})();